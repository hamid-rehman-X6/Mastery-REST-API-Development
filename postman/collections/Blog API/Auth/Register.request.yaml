$kind: http-request
name: Register
description: |-
  Create a new user account.
  
  **Access:** Public
  
  **Request Body:**
  - `email` (required): Valid email address (max 255 chars)
  - `password` (required): Minimum 8 characters
  - `role` (optional): Either "user" or "admin" (default: "user")
  
  **Note:** Admin registration requires the email to be whitelisted in server configuration.
  
  **Response:** Returns user details and access token. Refresh token is set as HTTP-only cookie.
method: POST
url: '{{baseUrl}}/api/v1/auth/register'
order: 1000
headers:
  - key: Content-Type
    value: application/json
body:
  type: json
  content: |-
    {
      "email": "user@example.com",
      "password": "password123",
      "role": "user"
    }
